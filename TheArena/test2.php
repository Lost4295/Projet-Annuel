<?php





$eyesPositions = [
    ['x' => "0", 'y' => "0"], ['x' => "47", 'y' => "0"], ['x' => "96", 'y' => "0"], ['x' => "143", 'y' => "0"], ['x' => "193", 'y' => "0"], ['x' => "240", 'y' => "0"], ['x' => "287", 'y' => "0"], ['x' => "335", 'y' => "0"],
    ['x' => "384", 'y' => "0"], ['x' => "431", 'y' => "0"], ['x' => "0", 'y' => "48"], ['x' => "48", 'y' => "48"], ['x' => "96", 'y' => "48"], ['x' => "143", 'y' => "48"], ['x' => "193", 'y' => "48"], ['x' => "240", 'y' => "48"],
    ['x' => "287", 'y' => "48"], ['x' => "337", 'y' => "48"], ['x' => "384", 'y' => "48"], ['x' => "431", 'y' => "48"], ['x' => "0", 'y' => "96"], ['x' => "48", 'y' => "96"], ['x' => "96", 'y' => "96"], ['x' => "143", 'y' => "96"],
    ['x' => "193", 'y' => "96"], ['x' => "240", 'y' => "96"], ['x' => "287", 'y' => "96"], ['x' => "337", 'y' => "96"], ['x' => "384", 'y' => "96"], ['x' => "431", 'y' => "96"], ['x' => "0", 'y' => "144"], ['x' => "48", 'y' => "144"],
    ['x' => "96", 'y' => "144"], ['x' => "143", 'y' => "144"], ['x' => "193", 'y' => "144"], ['x' => "240", 'y' => "144"], ['x' => "287", 'y' => "144"], ['x' => "337", 'y' => "144"], ['x' => "384", 'y' => "144"], ['x' => "431", 'y' => "144"],
    ['x' => "0", 'y' => "192"], ['x' => "48", 'y' => "192"], ['x' => "96", 'y' => "192"], ['x' => "143", 'y' => "192"], ['x' => "193", 'y' => "192"], ['x' => "240", 'y' => "192"], ['x' => "287", 'y' => "192"], ['x' => "337", 'y' => "192"],
    ['x' => "384", 'y' => "192"], ['x' => "431", 'y' => "192"], ['x' => "0", 'y' => "240"], ['x' => "48", 'y' => "240"], ['x' => "96", 'y' => "240"], ['x' => "145", 'y' => "240"], ['x' => "193", 'y' => "240"], ['x' => "240", 'y' => "240"],
    ['x' => "287", 'y' => "240"]
];
$colorPositions =  [
    ['x' => "0", 'y' => "0"], ['x' => "47", 'y' => "0"], ['x' => "96", 'y' => "0"], ['x' => "143", 'y' => "0"], ['x' => "193", 'y' => "0"], ['x' => "240", 'y' => "0"], ['x' => "287", 'y' => "0"],
    ['x' => "335", 'y' => "0"], ['x' => "384", 'y' => "0"], ['x' => "431", 'y' => "0"], ['x' => "0", 'y' => "48"], ['x' => "47", 'y' => "48"], ['x' => "96", 'y' => "48"], ['x' => "143", 'y' => "48"],
    ['x' => "193", 'y' => "48"], ['x' => "240", 'y' => "48"], ['x' => "287", 'y' => "48"], ['x' => "335", 'y' => "48"], ['x' => "384", 'y' => "48"], ['x' => "431", 'y' => "48"], ['x' => "0", 'y' => "96"],
    ['x' => "47", 'y' => "96"], ['x' => "96", 'y' => "96"], ['x' => "143", 'y' => "96"],  ['x' => "193", 'y' => "96"], ['x' => "240", 'y' => "96"], ['x' => "0", 'y' => "144"]
];



$mouthPositions = [
    ['x' => "0", 'y' => "0"], ['x' => "47", 'y' => "0"], ['x' => "96", 'y' => "0"], ['x' => "143", 'y' => "0"], ['x' => "193", 'y' => "0"], ['x' => "240", 'y' => "0"], ['x' => "287", 'y' => "0"],
    ['x' => "335", 'y' => "0"], ['x' => "384", 'y' => "0"], ['x' => "431", 'y' => "0"], ['x' => "0", 'y' => "48"], ['x' => "48", 'y' => "48"], ['x' => "96", 'y' => "48"], ['x' => "145", 'y' => "48"], ['x' => "192", 'y' => "48"],
    ['x' => "240", 'y' => "48"], ['x' => "289", 'y' => "49"], ['x' => "336", 'y' => "48"], ['x' => "384", 'y' => "48"], ['x' => "431", 'y' => "48"], ['x' => "0", 'y' => "96"], ['x' => "47", 'y' => "96"], ['x' => "96", 'y' => "96"],
    ['x' => "143", 'y' => "96"], ['x' => "192", 'y' => "96"], ['x' => "240", 'y' => "96"], ['x' => "289", 'y' => "96"], ['x' => "336", 'y' => "96"], ['x' => "384", 'y' => "96"], ['x' => "433", 'y' => "98"], ['x' => "0", 'y' => "144"],
    ['x' => "48", 'y' => "144"], ['x' => "96", 'y' => "144"], ['x' => "144", 'y' => "144"], ['x' => "193", 'y' => "144"], ['x' => "240", 'y' => "144"], ['x' => "289", 'y' => "144"], ['x' => "336", 'y' => "144"], ['x' => "384", 'y' => "144"],
    ['x' => "431", 'y' => "144"], ['x' => "0", 'y' => "192"], ['x' => "48", 'y' => "193"], ['x' => "96", 'y' => "192"], ['x' => "144", 'y' => "192"], ['x' => "192", 'y' => "192"], ['x' => "240", 'y' => "192"], ['x' => "289", 'y' => "192"],
    ['x' => "336", 'y' => "192"], ['x' => "384", 'y' => "192"], ['x' => "431", 'y' => "192"], ['x' => "0", 'y' => "240"]
];


header("Content-type: image/jpg");

$canvas = imagecreatetruecolor(48, 48);
$icon1 = imagecreatefromgif($_SERVER['DOCUMENT_ROOT'] . '/img/avatar/color_atlas.gif');
$icon2 = imagecreatefromgif($_SERVER['DOCUMENT_ROOT'] . '/img/avatar/eyes_atlas.gif');
$icon3 = imagecreatefromgif($_SERVER['DOCUMENT_ROOT'] . '/img/avatar/mouth_atlas.gif');
// if ($avatarvals->owner == 'true') {
//     $icon4 = imagecreatefromgif($_SERVER['DOCUMENT_ROOT'] . '/img/avatar/crown.gif');
// }
// ... add more source images as needed
imagecopy($canvas, $icon1, 0, 0, $colorPositions[1]['x'], $colorPositions[1]['y'], 48, 48);
imagecopy($canvas, $icon2, 0, 0, $eyesPositions[1]['x'], $eyesPositions[1]['y'], 48, 48);
imagecopy($canvas, $icon3, 0, 0, $mouthPositions[1]['x'], $mouthPositions[1]['y'], 48, 48);
// if ($icon4) {
//     imagecopy($canvas, $icon4, 0, 0, 6, 8, 48, 48);
// }
imagejpeg($canvas);
